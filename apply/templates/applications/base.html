{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BRIGHT SKILLS DEVELOPMENT CENTER</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>
<body>
  <header>
    <h1 class="site-title"><a href="{% url 'applications:home' %}">BRIGHT SKILLS DEVELOPMENT CENTER</a></h1>
    <div class="theme-toggler" id="theme-toggler" title="Toggle light/dark theme">
      <i class="bi bi-moon-stars-fill icon moon"></i>
      <i class="bi bi-sun-fill icon sun"></i>
    </div>
  </header>
  <nav class="nav-bar">
    <ul class="nav-links">
      <li><a href="{% url 'applications:home' %}">Home</a></li>
      <li><a href="{% url 'applications:add_student' %}">Apply</a></li>
      <li><a href="{% url 'applications:course_list' %}">Courses</a></li>
      <li><a href="#contact">Contact</a></li>
      {% if user.is_authenticated %}
        <li><a href="{% url 'applications:logout' %}" class="btn-logout">Logout</a></li>
      {% else %}
        <li><a href="{% url 'applications:login' %}" class="btn-login">Login</a></li>
      {% endif %}
    </ul>
  </nav>

  
  <div class="toast-wrap" id="toast-wrap" aria-live="polite" aria-atomic="true"></div>


  {% block content %}{% endblock content %}

  <footer>
        <section id="contact" class="contact" >
          <h2>Contact</h2>
          <p>
            <i class="bi bi-geo-alt"></i> MChina mwanzo , unguja , Zanzibar
          </p>
          <p><i class="bi bi-telephone-fill"></i> 
              <a href="tel:+255620629107">
                +255-620-629-107
              </a>
          </p>
          <p>
            <i class="bi bi-envelope-open-fill"></i> 
            <a href="mailto:brightskillsdevelopment@gmail.com">
              brightskillsdevelopment@gmail.com
            </a>
          </p>
          <p class="social">
            <a href="#"><i class="bi bi-facebook"></i></a>
          <a href="https://wa.me/255775595959">
                 <i class="bi bi-whatsapp"></i>
            </a>
            <a href="#"><i class="bi bi-youtube"></i></a>
            <a href="#"><i class="bi bi-linkedin"></i></a>
            <a href="#"><i class="bi bi-twitter-x"></i></a>
          </p>
        </section>

        <hr>
        <p>&copy; 2025 BRIGHT SKILLS DEVELOPMENT CENTER. All rights reserved.</p>
      </div>
    </footer>

    <button id="back-to-top" class="back-to-top" title="Go to top"><i class="bi bi-arrow-up"></i></button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6oGoD6DBS7Ys2eM6G+r6Xj4sV/B8Rk4vH" crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    
    <script>
      // --- UI Enhancements: Theme Toggler & Animations ---
      document.addEventListener('DOMContentLoaded', function () {
        const header = document.querySelector('header');
        const backToTopBtn = document.getElementById('back-to-top');

        // Theme Toggler
        const themeToggler = document.getElementById('theme-toggler');
        const currentTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', currentTheme);

        if (themeToggler) {
          themeToggler.addEventListener('click', () => {
            let newTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
          });
        }

        // Header scroll effect & Back to Top button
        window.addEventListener('scroll', () => {
          if (window.scrollY > 50) {
            header.classList.add('scrolled');
            if (backToTopBtn) backToTopBtn.classList.add('visible');
          } else {
            header.classList.remove('scrolled');
            if (backToTopBtn) backToTopBtn.classList.remove('visible');
          }
        });

        if (backToTopBtn) {
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // Floating form labels
        document.querySelectorAll('.form-group-float').forEach(group => {
            const input = group.querySelector('input, textarea');
            const label = group.querySelector('label');
            if (input.value) {
                group.classList.add('active');
            }
            input.addEventListener('focus', () => group.classList.add('active'));
            input.addEventListener('blur', () => {
                if (!input.value) {
                    group.classList.remove('active');
                }
            });
        });

        // Button ripple effect
        document.querySelectorAll('button, .btn').forEach(button => {
            button.addEventListener('click', function (e) {
                const rect = button.getBoundingClientRect();
                const ripple = document.createElement('span');
                ripple.className = 'ripple';
                ripple.style.left = `${e.clientX - rect.left}px`;
                ripple.style.top = `${e.clientY - rect.top}px`;
                this.appendChild(ripple);
                setTimeout(() => ripple.remove(), 600);
            });
        });

        // Fade-in animations on scroll
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });

        // Apply fade-in to cards and other elements
        document.querySelectorAll('.course-card-wrapper, .about-card, form, .feature-card, .course-details').forEach(el => {
          el.classList.add('fade-in');
          observer.observe(el);
        });
      });
    </script>

    <script>
  (function(){
    const toastWrap = document.getElementById('toast-wrap');
    const overlay = document.getElementById('loading-overlay');

    function showToast(type, message, timeout=3500){
      if (!toastWrap) return;
      const t = document.createElement('div');
      t.className = 'toast ' + (type||'info');
      t.setAttribute('role','alert');
      t.innerHTML = `<span>${message}</span><span class="close" aria-label="dismiss">&times;</span>`;
      toastWrap.appendChild(t);
      t.querySelector('.close').addEventListener('click', ()=> { t.classList.add('fadeout'); setTimeout(()=> t.remove(), 320); });
      setTimeout(()=> { t.classList.add('fadeout'); setTimeout(()=> t.remove(), 320); }, timeout);
    }

    function showLoading(){ if (overlay) overlay.classList.add('show'); }
    function hideLoading(){ if (overlay) overlay.classList.remove('show'); }

    document.addEventListener('DOMContentLoaded', function(){
      const params = new URLSearchParams(window.location.search);
      if (params.get('success') === '1') showToast('success', 'Registration successful');
      if (params.get('msg')) showToast('info', params.get('msg'));

      document.querySelectorAll('form.student-form').forEach(form => {
        form.addEventListener('submit', function(ev){
          const emailInput = form.querySelector('input[name="email"]');
          if (emailInput){
            const email = emailInput.value.trim();
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!re.test(email)) {
              ev.preventDefault();
              showToast('error', 'Invalid email address');
              emailInput.focus();
              return false;
            }
          }
          showLoading();
          setTimeout(()=> hideLoading(), 10000);
        });
      });
    });

    window.ui = { toast: showToast, loading: { show: showLoading, hide: hideLoading } };
  })();
</script>

    {% block extra_js %}{% endblock extra_js %}
</body>
</html>